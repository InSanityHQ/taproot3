<html><head><meta charset="utf-8" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><meta content="David and Jack" name="author" /><meta content="A note on Taproot, a connected notes system." name="description" /><title>Emacs Workshop Worksheet</title><link href="/static/css/firn_base.css" rel="stylesheet" /><link href="/static/css/prism.css" rel="stylesheet" /><link href="/static/css/global.css" rel="stylesheet" /><link href="/static/css/admonition.css" rel="stylesheet" /><script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        'displayAlign': 'center',
        'displayIndent': '0em',
        'extensions': ['tex2jax.js'],
        'tex2jax': {
        'inlineMath': [ ['$','$'], ['\\(','\\)'] ],
        'processEscapes': true
        },
        'HTML-CSS': { scale: 100,
                        linebreaks: { automatic: 'false' },
                        webFont: 'TeX'
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: 'false' },
              font: 'TeX'},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: 'AMS'},
               MultLineWidth: '85%',
               TagSide: 'right',
               TagIndent: '.8em'
             }})</script></head><body><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js" type="text/javascript"></script><script crossorigin=="anonymous" src="https://kit.fontawesome.com/76c5ce8bda.js"></script><div class="headerline"><a class="wordmark" href="https://taproot3.sanity.gq/" style="border:0">TR3</a></div><main><article class="content rss"><div class="preamble"><h1 class="title">Emacs Workshop Worksheet</h1></div><div class="metamble"><span><span>Written by </span><span>David and Jack</span></span></div><div class="notebody"><div><section></section><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="intro"><span class="firn-headline-text"><span>Intro</span></span></h1><section><p><span>Let's get started making our own configuration file! Make the file </span><code>~/.emacs.d/init.el</code><span> (remember, you can do that with </span><code>C-x C-f</code><span> and typing in the filename). Emacs runs this file whenever you start it.</span></p><p><span>Emacs is configured in </span><em><span>Emacs Lisp</span></em><span>: so let's quickly review some important parts of Lisp that make it a tad unusual:</span></p><ul><li><p><span>Everything is </span><em><span>array-based</span></em><span> in Lisp, so instead of calling a function like </span><code>function(arg1, arg2)</code><span>, you call it like </span><code>(function arg1 arg2)</code></p></li><li><p><span>Lisp is </span><em><span>functional</span></em><span>, so code does not execute sequentially by default unless for certain circumstances. Code is mostly written by composing functions (nesting function calls).</span></p></li><li><p><span>Lisp has a lot of single quotes scattered around: these are not strings but </span><em><span>symbols</span></em><span> that refer to a function/variable by its name. A lot of interfaces in Emacs want the </span><em><span>name</span></em><span> of a function rather than the function itself.</span></p><ul><li><p><span>Example: </span><code>'(chicken 1)</code><span> would not call the function </span><code>chicken</code><span> but just return what you literally typed out: that is, </span><code>'(chicken 1)</code><span>.</span></p></li></ul></li></ul><p><span>Let's get started by configuring our first thing! Let's remove those annoying headerbars and scrollbars. </span><code>setq</code><span> is a function we're gonna use a lot: it sets the value of a variable (which are used to express most of the options in Emacs).</span></p><pre class="language-emacs-lisp"><code class="language-emacs-lisp">  (tool-bar-mode -1) ;; This calls the function tool-bar-mode and turns it off by passing -1
  (menu-bar-mode -1) ;; Same but for menubar
  (scroll-bar-mode -1) ;; Same but for scroll bar
  (setq use-dialog-box nil) ;; Set the variable use-dialog-box to nil, turning off GUI popups
</code></pre><p><span>Next we'll banish the horror of </span><code>custom.el</code><span> to the abyss.</span></p><pre class="language-emacs-lisp"><code class="language-emacs-lisp">  (setq custom-file "/dev/null")
</code></pre><p><span>Emacs has a tendency to litter autosave files everywhere, so let's put them all in one place:</span></p><pre class="language-emacs-lisp"><code class="language-emacs-lisp">  (setq backup-directory-alist `(("." . "~/.saves")))
  (setq backup-by-copying t)l
</code></pre><p><span>We can then load </span><code>package.el</code><span> and open ourselves to the Emacs universe!</span></p><pre class="language-emacs-lisp"><code class="language-emacs-lisp">(require 'package)
</code></pre><p><span>Also we'll set the theme to be </span><code>tango</code><span>, but you can change it with  </span><code>M-x load-theme</code><span>.</span></p><pre class="language-emacs-lisp"><code class="language-emacs-lisp">(load-theme 'tango)
</code></pre></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="other-usecases"><span class="firn-headline-text"><span>Other Usecases</span></span></h1><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="binding-keys"><span class="firn-headline-text"><span>Binding Keys</span></span></h2><section><p><img src="/2021-09-27_22-48-23_screenshot.png" /></p><p><span>Let's harness the power of the butterfly (although with a shorter key combo)</span></p><pre class="language-emacs-lisp"><code class="language-emacs-lisp">(global-set-key (kbd "C-x M-c") 'butterfly)
</code></pre><p><span>Now, after evaluating that, use the key combo </span><code>C-x M-c</code><span> and unleash Emacs' true potential!</span></p></section></div><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="hooks"><span class="firn-headline-text"><span>Hooks</span></span></h2><section><p><span>Let's say you want to harness the power of the butterfly whenever you open an Emacs Lisp buffer (</span><strong><span>don't actually do this</span></strong><span>, since that'll be a bit too much to handle). We can use a </span><em><span>hook</span></em><span>, which allows you to run custom code before/after important events, allowing for a large amount of extensibility. Hooks are actually variables, so if you ever want to search for one, good ol' </span><code>C-h v</code><span> will help.</span></p><pre class="language-emacs-lisp"><code class="language-emacs-lisp">(add-hook 'emacs-lisp-mode-hook 'butterfly)
</code></pre><p><span>This could be use for many other things, like enabling a linter whenever you open a Python buffer.</span></p></section></div></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="more-lisp"><span class="firn-headline-text"><span>More Lisp</span></span></h1><section><p><span>Here's some more complicated examples of plain Emacs Lisp that may not be directly useful just yet.</span></p><pre class="language-emacs-lisp"><code class="language-emacs-lisp">  (if (> 2 1)
      (message "hello")
    (message "goodbye"))  
</code></pre><pre class="language-emacs-lisp"><code class="language-emacs-lisp">  (defun my-function (arg1 arg2)
    (message "look!")
    (message "sequential!")
    (message arg2)
    (message "whee!"))
  (my-function "hello" "there")
</code></pre><p><span>You also might see something like </span><code>:blah</code><span> around, and they're usually for specifying arguments. They're just upgraded string literals, don't worry about them too much.</span></p></section></div></div></div></article><div class="metapanel"><div class="metalabel">Contents</div><ol><li><a href="#intro">Intro</a></li><li><a href="#other-usecases">Other Usecases</a><ol><li><a href="#binding-keys">Binding Keys</a></li><li><a href="#hooks">Hooks</a></li></ol></li><li><a href="#more-lisp">More Lisp</a></li></ol><div class="metalabel">Backlinks</div></div></main></body></html>